
> qube-sheets@0.1.0 dev:external
> next dev -H 0.0.0.0

   ‚ñ≤ Next.js 15.3.1
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 ‚úì Starting...
 ‚úì Ready in 929ms
 ‚ö† Cross origin request detected from 10.0.0.32 to /_next/* resource. In a future major version of Next.js, you will need to explicitly configure "allowedDevOrigins" in next.config to allow this.
Read more: https://nextjs.org/docs/app/api-reference/config/next-config-js/allowedDevOrigins
 ‚óã Compiling /_not-found ...
 ‚ö† Fast Refresh had to perform a full reload due to a runtime error.
 ‚úì Compiled /middleware in 5.3s (1437 modules)
 HEAD / 404 in 13ms
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (117kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
 ‚úì Compiled / in 169ms (1196 modules)
 GET / 200 in 277ms
 ‚óã Compiling /projects ...
 ‚úì Compiled /projects in 951ms (2166 modules)
 GET /projects 200 in 1056ms
 ‚úì Compiled /api/projects in 161ms (2194 modules)
MongoDB connection established
 GET /api/projects 200 in 1888ms
 GET /api/projects 200 in 1984ms
 GET /api/projects 200 in 2308ms
 GET /api/projects 200 in 2362ms
 ‚óã Compiling /projects/[projectId] ...
 ‚úì Compiled /projects/[projectId] in 631ms (2362 modules)
 GET /projects/68aca1d10eec32d77ca08b9a 200 in 1009ms
 ‚úì Compiled /api/projects/[projectId] in 136ms (2364 modules)
 GET /api/projects/68aca1d10eec32d77ca08b9a 200 in 616ms
 GET /api/projects/68aca1d10eec32d77ca08b9a 200 in 619ms
 GET /api/projects 200 in 90ms
 GET /api/projects/68aca1d10eec32d77ca08b9a 200 in 96ms
 GET /api/projects 200 in 103ms
 ‚úì Compiled /api/projects/[projectId]/sync-status in 274ms (2370 modules)
 GET /api/projects/68aca1d10eec32d77ca08b9a 200 in 610ms
üì• GET /api/projects/[projectId]/inventory called
üì• GET /api/projects/[projectId]/inventory called
‚úÖ MongoDB connected
üìã Project ID: 68aca1d10eec32d77ca08b9a
‚úÖ MongoDB connected
üìã Project ID: 68aca1d10eec32d77ca08b9a
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A17%3A38.890Z 200 in 654ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A17%3A38.890Z 200 in 1174ms
‚úÖ Found 15 inventory items
 GET /api/projects/68aca1d10eec32d77ca08b9a/inventory 200 in 799ms
‚úÖ Found 15 inventory items
 GET /api/projects/68aca1d10eec32d77ca08b9a/inventory 200 in 1334ms
 ‚óã Compiling /api/projects/[projectId]/spreadsheet ...
 ‚úì Compiled /api/projects/[projectId]/spreadsheet in 916ms (2373 modules)
 GET /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 1425ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 1426ms
 ‚ö† Found a change in next.config.js. Restarting the server to apply the changes...
   ‚ñ≤ Next.js 15.3.1
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 ‚úì Starting...
 ‚úì Ready in 958ms
 ‚úì Compiled /middleware in 140ms (224 modules)
 ‚óã Compiling /api/projects/[projectId]/sync-status ...
 ‚úì Compiled /api/projects/[projectId]/sync-status in 582ms (493 modules)
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
(node:43830) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
üîç Server-side file analysis: { name: 'IMG_9463.jpeg', type: 'image/jpeg', size: 4907498 }
üì± Server HEIC detection: {
  isHeicByExtension: false,
  isHeicByMimeType: false,
  isPotentialIPhoneHeic: false,
  finalResult: false
}
üì∑ Server-side file validation: {
  isRegularImage: true,
  isHeic: false,
  isPotentialIPhonePhoto: false,
  fileName: 'IMG_9463.jpeg',
  mimeType: 'image/jpeg'
}
 ‚óã Compiling /api/analyze-image ...
MongoDB connection established
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A17%3A38.890Z 200 in 3783ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A17%3A38.890Z 200 in 527ms
OpenAI API usage: { prompt_tokens: 1872, completion_tokens: 340, total_tokens: 2212 }
 POST /api/analyze-image 200 in 16117ms
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A17%3A38.890Z 200 in 528ms
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
üì• GET /api/projects/[projectId]/inventory called
‚úÖ MongoDB connected
üìã Project ID: 68aca1d10eec32d77ca08b9a
‚úÖ Found 17 inventory items
 GET /api/projects/68aca1d10eec32d77ca08b9a/inventory 200 in 647ms
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
 ‚ö† ./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
Critical dependency: require function is used in a way in which dependencies cannot be statically extracted

Import trace for requested module:
./node_modules/libheif-js/libheif-wasm/libheif-bundle.js
./node_modules/libheif-js/wasm-bundle.js
./node_modules/heic-decode/index.js
./node_modules/heic-convert/index.js
./app/api/analyze-image/route.ts
 GET /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 515ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 501ms
 PUT /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 253ms
 POST /api/projects/68aca1d10eec32d77ca08b9a/images 201 in 7188ms
 PUT /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 283ms
 PUT /api/projects/68aca1d10eec32d77ca08b9a/spreadsheet 200 in 291ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 527ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 518ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 503ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 509ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 524ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 519ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 539ms
 GET /api/projects/68aca1d10eec32d77ca08b9a/sync-status?lastUpdate=2025-08-26T14%3A18%3A10.070Z 200 in 513ms
 ‚úì Compiled /api/projects/[projectId]/spreadsheet in 13ms
 ‚óã Compiling /_not-found ...
 ‚úì Compiled /_not-found in 1073ms (1183 modules)
 HEAD / 404 in 1229ms
 ‚úì Compiled in 241ms (476 modules)
 ‚úì Compiled in 107ms (476 modules)
 ‚úì Compiled in 100ms (476 modules)
 ‚úì Compiled in 158ms (476 modules)
 ‚úì Compiled in 193ms (476 modules)
 ‚úì Compiled in 152ms (476 modules)
 ‚úì Compiled in 95ms (476 modules)
 ‚úì Compiled in 141ms (476 modules)
